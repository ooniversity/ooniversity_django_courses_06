{% extends "base.html" %}
{% load static %}


{% block title %}Course Info{% endblock title %}


{% block content %}

<div class='messages'>
  {% for message in messages %}
  <div class='alert alert-success' role='alert' {% if message.tags %} class='{{ message.tags }}' {% endif %}>
    <button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button>
    {{ message }}
  </div>
  {% endfor %}
</div>

    <div class="page-content">
      <div class="container">

          <div class="jumbotron">
            <h1>{{ course.name }}</h1>
            <p>{{ course.description|truncatechars:32 }}</p>
          </div>

          <h2 class="page-header">Course teachers</h2>
          {% if course.coach %}
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title">
                    
              <a href="{% url 'coaches:detail' course.coach.id %}">{{ coach.first_name }} {{ coach.last_name }}</a>
              </h3>
            </div>

            <div class="panel-body">
              <p>{{ course.coach.description }}</p>{% endif %}
            </div>
          </div>

          <h2 class="page-header">Course assistants</h2>
          {% if course.assistant %}
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title">
                    
              <a href="{% url 'coaches:detail' assistant.id %}">{{ assistant.first_name }} {{ assistant.last_name }}</a>
              </h3>
            </div>

            <div class="panel-body">
              <p>{{ course.assistant.description }}</p>{% endif %}
            </div>
          </div>

          <h2 class="page-header">Course Plan</h2>

          <p><a class='btn btn-primary' href="{% url 'courses:add-lesson' course.id%}" role='button'><span class='glyphicon glyphicon-plus' aria-hidden='true'> Добавить занятие</span></a></p>

          <div class="table-responsive">
            <table class="table table-bordered courses-table"
              <thead>
                <tr class="info">
                  <th>#</th>
                  <th class="courses-table__name">Subject</th>
                  <th>Description</th>
                </tr>
              </thead>

              <tbody>
                {% for lesson in lessons_list %}
                  <tr>
                    <td>{{ lesson.order }}</td>
                    <td>{{ lesson.subject }}</td>
                    <td>{{ lesson.description }}</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
{% endblock content %}