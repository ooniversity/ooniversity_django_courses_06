{% extends "base.html" %}

{% load static %}

{% block nav_students %}active{% endblock %}


{% block title %}TechBursa Python/Django 06 :: Students - list{% endblock title %}

{% block content %}

{% if messages %}
<div class='container'>
    <div class='messages'>
       {% for message in messages %}
       <div class='alert alert-success' role='alert' {% if message.tags %} class='{{ message.tags }}' {% endif %}>
         <button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button>
         {{ message }}
       </div>
       {% endfor %}
    </div>
</div>
{% endif %}


  <div class="jumbotron">
    <div class="container">
          <h1 class="studlst coolshadow">Студенти TechBursa</h1>
    </div>
    <div class="container">
    <p></p>
      <p><a class='btn btn-success' href="{% url 'students:add' %}" role='button'><span class="glyphicon glyphicon-plus-sign"></span> Додати нового студента</a></p>
      <table class="table table-striped table-hover bg-info">
        <thead>
          <tr>
            <th style="width:5%">No</th>
            <th style="width:15%">Name</th>
            <th style="width:25%">Address</th>
            <th style="width:10%">Skype</th>
            <th style="width:15%">Courses</th>
          </tr>
        </thead>      
      <tbody>
        {% for person in stud_on_course %}
        <tr>
          <td style="vertical-align: middle;">{{ forloop.counter }}</td>
          <td style="vertical-align: middle;"><a href="{% url 'students:detail' person.id %}">{{person}}</a></td>
          <td style="vertical-align: middle;">{{person.address}}</td>
          <td style="vertical-align: middle;">{{person.skype}}
          <td style="vertical-align: middle;">
            {% for course in person.courses.all %}
                <a href="{% url 'courses:detail' course.id %}">{{ course.name }}</a><br>
            {% endfor %}
          </td>
          <td style="vertical-align: middle;">
            <a class='btn btn-primary' href="{% url 'students:edit' person.id %}" role='button'>
            <span class="glyphicon glyphicon-edit"></span> Змінити
            </a>
            <a class='btn btn-primary' href="{% url 'students:remove' person.id %}" role='button'>
            <span class="glyphicon glyphicon-remove-sign"></span> Вилучити
            </a>
          </td>        
        </tr>
        {% endfor %}
       </tbody>
      </table>
      <p><a class='btn btn-success' href="{% url 'students:add' %}" role='button'><span class="glyphicon glyphicon-plus-sign"></span> Додати нового студента</a></p>
    </div> 
  </div>
{% endblock content %}
